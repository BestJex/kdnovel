var app=new Vue({el:'#app',data:{active:'0',hotInfo:['1'],newInfo:['1'],advShow:true,loading:false,isReco:true,catagorys:null,novelList:null,newList:null,hotList:null},mounted:function mounted(){this.handle(0);this.categoryInfo();this.getNewsInfo();this.getHotInfo();$("body").css("display","block");},computed:{initInfo:function initInfo(){if(this.active==""){this.isReco=true;return;}this.active==1?this.isReco=true:this.isReco=false;}},methods:{infoClass:function infoClass(cateId){var category="";switch(cateId){case 1:category="coatard";break;case 2:category="city";break;case 3:category="across";break;case 4:category="fantasy";break;case 5:category="science";break;default:category="game";break;}return category;},close:function close(){this.advShow?this.advShow=false:this.advShow=true;},getNewsInfo:function getNewsInfo(){var _self=this;$.ajax({async:false,url:"/novel/new",success:function success(data){_self.newList=data;},error:function error(){_self.$message({message:'系统错误，请稍后重试。',type:'warning'});}});},getHotInfo:function getHotInfo(){var _self=this;$.ajax({async:false,url:"/novel/hot",success:function success(data){_self.hotList=data;},error:function error(){_self.$message({message:'系统错误，请稍后重试。',type:'warning'});}});},categoryInfo:function categoryInfo(){var _self=this;$.ajax({async:false,url:"/category/list",success:function success(data){_self.catagorys=data;},error:function error(){_self.$message({message:'系统错误，请稍后重试。',type:'warning'});}});},handle:function handle(key){this.loading=true;var infoElem=$(".nov_info").height();if(infoElem>0){$(".el-loading-spinner").css("top","10%");}this.active=key;key==0?this.isReco=true:this.isReco=false;var _self=this;$.ajax({type:"post",async:true,url:"/novel/info/"+key,success:function success(data){_self.novelList=data;_self.loading=false;},error:function error(){_self.$message({message:'系统错误，请稍后重试。',type:'warning'});}});},info:function info(id){window.location.href="/info/"+id;},more:function more(){window.location.href="/category/0";}}});